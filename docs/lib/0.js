(window.webpackJsonp=window.webpackJsonp||[]).push([[0,6],{1:function(e,i,t){"use strict";t.r(i);var n=t(4),s=t(0);t(28);class o extends n.a{get props(){const e=this.__repository.get("view.transitionIn")||this.__repository.get("view.transition")||"slide",i=this.__repository.get("view.transitionOut")||this.__repository.get("view.transition")||"fade";return Object.assign({},super.props,{uri:{type:String,required:!0},transitionIn:{type:String,value:e},transitionOut:{type:String,value:i},index:{type:Number,value:0}})}focusing(){}focused(){}blurred(){}created(){super.created(),this.classList.add("xin-view")}ready(){super.ready(),this.inFx=new s.a({element:this,transition:this.transitionIn,method:"in"}),this.outFx=new s.a({element:this,transition:this.transitionOut,method:"out"})}attached(){super.attached(),this.classList.remove("xin-view--focus"),this.classList.remove("xin-view--visible"),this.__app?(this.__app.route(this.uri,e=>{this.focus(e)}),this.fire("routed")):console.warn("Cannot route view to undefined app")}async focus(e={}){this.set("parameters",e),await this.focusing(e),this.fire("focusing",e),this.async(()=>{"setFocus"in this.parentElement?this.parentElement.setFocus(this):(this.setVisible(!0),this.setFocus(!0))})}setVisible(e){if(e)return this.classList.add("xin-view--visible"),void this.fire("show",{view:this});this.classList.remove("xin-view--visible"),[].forEach.call(this.querySelectorAll(".xin-view.xin-view--visible"),i=>i.setVisible(e)),this.fire("hide")}async setFocus(e){if(e)return this.classList.add("xin-view--focus"),await this.focused(),void this.fire("focus");this.classList.remove("xin-view--focus"),[].forEach.call(this.querySelectorAll(".xin-view.xin-view--focus"),i=>{"setFocus"in i.parentElement?i.parentElement.setFocus(null):i.setFocus(e)}),await this.blurred(),this.fire("blur")}}Object(n.d)("xin-view",o),t.d(i,"View",function(){return o})},20:function(e,i){e.exports="<div class=\"padding\">\n  <h2>Middleware</h2>\n\n  <p>\n    Middleware provide a convenient mechanism for filtering route requests entering your application.\n    For example, you can includes a middleware that verifies the user of your application is authenticated.\n    If the user is not authenticated, the middleware will redirect the user to the login screen.\n    However, if the user is authenticated, the middleware will allow the request to proceed further into the application.\n  </p>\n\n  <p>\n    Your application must use xin-app to use middleware to enable routing.\n  </p>\n\n  <p>\n    Write implementation of middleware as 'components/foo-middleware.js'\n  </p>\n\n  <code>\n    <pre>\nimport { Middleware } from '@xinix/xin/components';\n\nclass FooMiddleware extends Middleware {\n  callback (options) {\n    return async function (ctx, next) {\n      // do something here\n      await next();\n      // or do something after routed here\n    };\n  }\n}\n\ndefine('foo-middleware', FooMiddleware);</pre>\n  </code>\n\n  <p>\n    Use middleware in 'components/foo-app.js' like follows:\n  </p>\n\n  <code>\n    <pre>\nimport './foo-middleware';\n\nclass FooApp extends App {\n  get template () {\n    return `\n      &lt;foo-middleware&gt;&lt;/foo-middleware&gt;\n\n      ...\n    `;\n  }\n}\n\ndefine('foo-app', FooApp)</pre>\n  </code>\n</div>\n"},27:function(e,i,t){(e.exports=t(8)(!1)).push([e.i,".xin-view {\n  box-sizing: border-box;\n  display: none;\n}\n\n.xin-view.xin-view--visible {\n  display: block;\n}\n",""])},28:function(e,i,t){var n=t(27);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};t(7)(n,s);n.locals&&(e.exports=n.locals)},9:function(e,i,t){"use strict";t.r(i);var n=t(5),s=t(1);Object(n.b)("x-middleware",class extends s.View{get template(){return t(20)}})}}]);