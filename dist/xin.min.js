!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){"use strict";var i=n(1);function r(t,e,n){const r=Object(i.g)();let s=r.get(t);if(s)return console.warn(`Duplicate registering ${t}`),s;if("v1"===r.get("customElements.version"))s=e,window.customElements.define(t,e,n);else{let i={prototype:Object.create(e.prototype,{is:{value:t}})};n&&n.extends&&(i.extends=n.extends),s=document.registerElement(t,i)}return r.put(t,s),s}let s={};function o(t){let e=s[t];return e||(s[t]=t.replace(/([a-z][A-Z])/g,function(t){return t[0]+"-"+t[1].toLowerCase()}),s[t])}let a={};function l(t,...e){return"function"==typeof t?t(...e):t}function c(t,e){switch(e){case Number:t=Number(t);break;case Boolean:t=Boolean(""===t||"true"===t||"1"===t||"on"===t);break;case Object:try{t=JSON.parse(t)}catch(t){}break;case Array:try{t=JSON.parse(t)}catch(e){t=null}break;case Date:t=new Date(t);break;case RegExp:t=new RegExp(t);break;case Function:t=new Function(t)}return t}const u={};class h{static get CACHE(){return u}static get(t){if(t in u)return u[t];let e=new h(t);return u[t]=e,e}constructor(t){if(this.name=t,this.contextName="",this.baseName="",this._value=null,this.type="v",!this.name.match(/^[a-zA-Z_]/))try{return this._value=JSON.parse(this.name),void(this.type="s")}catch(t){}if("v"===this.type){let t=this.name.split(".");this.baseName=t.pop(),this.contextName=t.join(".")}}value(...t){if("s"===this.type)return this._value;for(let e of t){if(!e)continue;let t="function"==typeof e.get?e.get(this.name):e[this.name];if(void 0!==t)return t}}invoke(t,...e){if(0===e.length)throw new Error(`Cannot invoke method ${this.name} of undefined context`);if("s"===this.type){let[t]=e;throw new Error(`Method is not eligible, ${t.__templateHost.nodeName||"$anonymous"}#${this.name}`)}for(let n of e)if(n)if("function"==typeof n.get){let e=this.contextName?n.get(this.contextName):n;if("function"==typeof e[this.baseName])return e[this.baseName](...t)}else if("function"==typeof n[this.name])return n[this.name].apply(n,t);let[n]=e;throw new Error(`Method is not eligible, ${n.__templateHost.nodeName||"$anonymous"}#${this.name}`)}}class d{constructor(t,e,n){this.name=t,this.callback=e,this.otherArgs=n}invoke(t){let e=[t];return[].push.apply(e,this.otherArgs),this.callback.apply(null,e)}static put(t,e){p[t]=e}static get(t){let e=t.split(":"),n=e.splice(1),i=e.pop();if(i in p==!1)throw new Error(`Filter "${t}" not found.`);return new d(i,p[i],n)}}const p={required:t=>{if(void 0===t||null===t||""===t)throw new Error("Value is required");return t},string:t=>String(t),number:t=>Number(t||0).toLocaleString(),boolean:t=>Boolean(t),default:(t,e)=>t||e,upper:t=>String.prototype.toUpperCase.call(t||""),lower:t=>String.prototype.toLowerCase.call(t||""),not:t=>!t,slice:(t,e,n)=>Array.prototype.slice.call(t||[],e,n),json:(t,e)=>JSON.stringify(t,null,Number(e)),consoleTrace:t=>console.trace(t),consoleLog:t=>console.log(t),consoleInfo:t=>console.info(t),consoleWarn:t=>console.warn(t),consoleError:t=>console.error(t),currency:t=>(t||0).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},f={s:{"[":{},"{":{}},v:{"[":{},"{":{}}};function m(t,e,n){let i=f[n][e];if(t in i)return i[t];let r=new _(t,e,n);return"s"!==n&&(i[t]=r),r}class _{static get CACHE(){return f}static get(t,e){if(t=(t||"").trim(),e)return m(t,"[","v");let n=t[0];return"["!==n&&"{"!==n||t[1]!==n?m(t,"[","s"):m(t=t.slice(2,-2).trim(),n,"v")}static getFn(t,e,n){return _.get(-1===t.indexOf("(")?`${t}(${e.join(", ")})`:t,n)}static rawTokenize(t){let e=0,n=[];for(;t&&e++<10;){let e=t.match(/^\s*("[^"]*"|[^,]+),?/);t=t.substr(e[0].length),n.push(e[1].trim())}return n}static tokenize(t){return _.rawTokenize(t).map(t=>h.get(t))}constructor(t,e,n){if(this.mode=e,this.type=n,this.name="",this.args=[],this.filters=[],this.value=t,"s"===n)return;let i=t.split("|"),r=i[0].trim();if(this.filters=i.slice(1).map(t=>d.get(t.trim())),r.indexOf("(")<0)this.type="p",this.name=r,this.args.push(h.get(r));else{this.mode="[",this.type="m";let t=r.match(/([^(]+)\(([^)]*)\)/);this.name=t[1].trim(),this.fn=h.get(this.name),this.args=_.tokenize(t[2])}}get constant(){return"m"!==this.type&&this.vpaths.length!==this.args.length}get vpaths(){if(!this._vpaths){let t=[];this.args.forEach(e=>{"v"===e.type&&-1===t.indexOf(e.name)&&t.push(e)}),this._vpaths=t}return this._vpaths}invoke(t,e){if("p"===this.type){let n=this.args[0].value(t,e);return this.filters.reduce((t,e)=>e.invoke(t),n)}let n=this.args.map(n=>n.value(t,e));return this.fn.invoke(n,t,t.__templateHost)}}class g{constructor(t,e){this.context=t,this.model=e,this.paths={},this.annotations=[]}annotate(t){this.annotations.push(t)}walkEffect(t,e){this.annotations.forEach(n=>{n.effect(t,e)}),Object.keys(this.paths).forEach(n=>{this.paths[n].walkEffect(t,e)})}}class y{constructor(t,e){this.node=t,this.name=e}set(t){"function"==typeof this.node.set?this.node.set(this.name,t):this.node[this.name]=t}get(){return"function"==typeof this.node.get?this.node.get(this.name):this.node[this.name]}}class w extends y{constructor(t){super(t,"textContent")}set(t=""){t!==this.node.textContent&&(this.node.textContent=t)}}class v extends y{constructor(t){super(t,"value")}set(t=""){document.activeElement!==this.node&&super.set(t)}}const b={get(t,e){if(!(t&&"nodeType"in t))return new y(t,e);switch(t.nodeType){case window.Node.ELEMENT_NODE:return e.endsWith("$")?new class extends y{constructor(t,e){super(t,e.slice(0,-1))}set(t){t?t!==this.node.getAttribute(this.name)&&this.node.setAttribute(this.name,t):this.node.removeAttribute(this.name)}get(){return this.node.getAttribute(this.name)}}(t,e):"text"===e?new w(t):"html"===e?new class extends y{set(t=""){this.node.innerHTML=t}get(){return this.node.innerHTML}}(t,e):"value"===e&&"INPUT"===t.nodeName?new v(t):e.startsWith("class.")?new class extends y{set(t){t?this.node.classList.add(this.name):this.node.classList.remove(this.name)}get(){throw new Error("Unimplemented")}}(t,e.split(".").splice(1).join(".")):e.startsWith("style.")?new class extends y{set(t=""){this.node.style[this.name]=t}get(){throw new Error("Unimplemented")}}(t,e.split(".").splice(1).join(".")):new class extends y{constructor(t,e){super(),this.node=t,this.name=function(t){let e=a[t];return e||(t.indexOf("-")<0?a[t]=t:a[t]=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()}),a[t])}(e)}}(t,e);case window.Node.TEXT_NODE:return t.parentElement&&"TEXTAREA"===t.parentElement.nodeName?new v(t.parentElement):new w(t);default:throw new Error(`Unimplemented resolving accessor for nodeType: ${t.nodeType}`)}}};class x{constructor(t,e,n){this.model=t,this.expr=e,this.accessor=n}effect(t,e){this.accessor?this.accessor.set(this.expr.invoke(this.model)):this.expr.invoke(this.model)}}class C{constructor(t,e){let n=_.get(t.getAttribute(e));this.model=t,this.name=n.name}effect(t,e){this.model.__templateModel.set(this.name,e)}}(function(){if(document.__importNode)return!1;let t=document.createElement("template");t.innerHTML="<template>i</template>";let e=document.importNode(t.content,!0);return!e.firstChild.content.firstChild||"i"!==e.firstChild.content.firstChild.textContent})()&&(document.__importNode=document.importNode,document.importNode=function(t,e){if(!e)return document.__importNode(t,e);let n=[].slice.call(t.querySelectorAll("template")),i=document.__importNode(t,e);return[].forEach.call(i.querySelectorAll("template"),(t,e)=>{t.innerHTML=n[e].innerHTML}),i});const E="undefined"!=typeof window&&"HTMLUnknownElement"in window&&!(document.createElement("slot")instanceof window.HTMLUnknownElement);const A=new i.b("template");function F(t,e,n){this.__templateInitialize(t,e,n),this.__templateRender()}F.prototype={get $(){return this.__templateHost.getElementsByTagName("*")},$$(t){return this.querySelector(t)},promised(t,e){return new Promise(n=>{e?this.once(t,e,n):this.once(t,n)})},on(){Object(i.f)(this.__templateHost||this).on(...arguments)},off(){Object(i.f)(this.__templateHost||this).off(...arguments)},once(){Object(i.f)(this.__templateHost||this).once(...arguments)},all(t){for(let e in t)t.hasOwnProperty(e)&&this.set(e,t[e])},get(t){let e=this;return this.__templateGetPathAsArray(t).some(t=>void 0===e||null===e?(e=void 0,!0):(e=e[t],!1)),e},set(t,e){if("object"==typeof t){let e=Object.keys(t),n=Object.values(t);return void e.map((t,e)=>{this.set(t,n[e])})}if(t=this.__templateGetPathAsArray(t),e===this.get(t))return;let n=this;t.slice(0,-1).forEach(t=>{n&&(void 0!==n[t]&&null!==n[t]||(n[t]={}),n=n[t])});let i=t.slice(-1).pop();n[i]=e,this.notify(t,e)},push(t,...e){let n=this;(t=this.__templateGetPathAsArray(t)).slice(0,-1).forEach(t=>{n&&(void 0!==n[t]&&null!==n[t]||(n[t]={}),n=n[t])});let i=t.slice(-1).pop();Array.isArray(n[i])||(n[i]=[]),n[i]=n[i].slice();let r=n[i].push(...e);return this.notify(t,n[i]),r},pop(t){let e=this;(t=this.__templateGetPathAsArray(t)).slice(0,-1).forEach(t=>{e&&(void 0!==e[t]&&null!==e[t]||(e[t]={}),e=e[t])});let n=t.slice(-1).pop();Array.isArray(e[n])||(e[n]=[]),e[n]=e[n].slice();let i=e[n].pop();return this.notify(t,e[n]),i},splice(t,e,n,...i){let r=this;(t=this.__templateGetPathAsArray(t)).slice(0,-1).forEach(t=>{r&&(void 0!==r[t]&&null!==r[t]||(r[t]={}),r=r[t])});let s=t.slice(-1).pop();Array.isArray(r[s])||(r[s]=[]),r[s]=r[s].slice();let o=r[s].splice(e,n,...i);return this.notify(t,r[s]),o},notify(t,e){if(t=this.__templateGetPathAsString(t),!this.__templateReady)return this.__templateNotifyOnReady=this.__templateNotifyOnReady||[],void(-1===this.__templateNotifyOnReady.indexOf(t)&&this.__templateNotifyOnReady.push(t));let n=this.__templateGetBinding(t);n&&(void 0===e&&(e=this.get(t)),n.walkEffect("set",e))},__templateInitialize(t,e,n){this.__templateId=A.next(),this.__templateBindings={},this.__templateHost=e||(t?t.parentElement:null),this.__templateMarker=n,this.__templateReady=!1,this.__templateNotifyOnReady=[],t&&(this.__template=function(t){return!t.content&&window.HTMLTemplateElement&&window.HTMLTemplateElement.decorate&&window.HTMLTemplateElement.decorate(t),t}(t),this.__templateChildNodes=[],this.__templateFragment=document.importNode(this.__template.content,!0),this.__parseAnnotations(),n||(this.__template.parentElement===this.__templateHost?this.__templateMarker=this.__template:(this.__templateMarker=document.createComment(`marker-${this.__templateId}`),this.__templateHost.appendChild(this.__templateMarker))))},__templateRender(t){if(this.__templateReady=!0,this.__templateNotifyOnReady.forEach(t=>{this.notify(t,this.get(t))}),this.__templateNotifyOnReady=[],!this.__template)return;let e=this.__templateFragment;this.__templateFragment=null,t&&t instanceof window.DocumentFragment&&[].forEach.call(e.querySelectorAll("slot"),n=>{let i=function(t){return E?t.name:t.getAttribute("name")}(n),r=n.parentElement||e,s=document.createComment(`slot ${i}`);if(r.insertBefore(s,n),r.removeChild(n),i){let e=t.querySelectorAll(`[slot="${i}"]`);[].forEach.call(e,t=>{r.insertBefore(t,s)})}else r.insertBefore(t,s)}),this.__templateMarker.parentElement.insertBefore(e,this.__templateMarker)},__templateUninitialize(){this.__templateChildNodes.forEach(t=>{t.parentElement.removeChild(t)})},__templateGetPathAsArray:t=>"string"!=typeof t?t:t.split("."),__templateGetPathAsString:t=>"string"==typeof t?t:t.join("."),__parseAnnotations(){this.__templateChildNodes=[...this.__templateFragment.childNodes];let t=this.__templateChildNodes.length;for(let e=0;e<t;e++){let t=this.__templateChildNodes[e];switch(t.nodeType){case window.Node.ELEMENT_NODE:this.__parseElementAnnotations(t);break;case window.Node.TEXT_NODE:this.__parseTextAnnotations(t)}}},__parseEventAnnotations(t,e){let n=t.getAttribute(e),i=e.slice(1,-1);"tap"===i&&(i="click");let r=this,s=_.getFn(n,[],!0);this.on(i,t,t=>{s.invoke(r,{evt:t})})},__parseAttributeAnnotations(t){let e=!1,n=t.attributes.length;for(let i=0;i<n;i++){let n=t.attributes[i],r=n.name;"id"!==r&&"class"!==r&&"style"!==r&&(0===r.indexOf("(")?this.__parseEventAnnotations(t,r):e=this.__templateAnnotate(_.get(n.value),b.get(t,r))||e)}return e},__parseElementAnnotations(t){let e=!1;if(t.__templateModel)return e;if(t.__templateModel=this,t.attributes&&t.attributes.length&&(e=this.__parseAttributeAnnotations(t)||e),t.childNodes&&t.childNodes.length){let n=[].slice.call(t.childNodes),i=n.length;for(let t=0;t<i;t++)e=this.__parseNodeAnnotations(n[t])||e}return[].forEach.call(t.getElementsByTagName("slot"),t=>{[].forEach.call(t.childNodes,t=>{e=this.__parseNodeAnnotations(t)||e})}),e},__parseNodeAnnotations(t){switch(t.nodeType){case window.Node.TEXT_NODE:return this.__parseTextAnnotations(t);case window.Node.ELEMENT_NODE:return this.__parseElementAnnotations(t)}},__parseTextAnnotations(t){let e=_.get(t.textContent),n=b.get(t);return this.__templateAnnotate(e,n)},__templateAnnotate(t,e){if("s"===t.type)return!1;if(t.constant){let n=t.invoke(this);return e.set(n),!1}let n=new x(this,t,e);return"m"===t.type&&this.__templateGetBinding(t.fn.name).annotate(n),t.vpaths.forEach(t=>this.__templateGetBinding(t.name).annotate(n)),!0},__templateGetBinding(t){let e,n,i=t.split(".");for(let t=0;t<i.length;t++){let r=i[t];(e=n?n.paths:this.__templateBindings)[r]||(e[r]=new g(this,r)),n=e[r]}return n}};var k=n(8),N=n(10);const T=n(6)("xin::component"),O=new i.b("component"),S={};function L(t){const e=Object(i.g)();if(S[t])return S[t];let n;"v1"===e.get("customElements.version")?n=window[t]:(n=function(){}).prototype=Object.create(window[t].prototype);class r extends n{constructor(){super(),this.is=this.nodeName.toLowerCase(),this.createdCallback()}get $(){return this.__templateHost.getElementsByTagName("*")}get props(){return{ref:{type:Object,readonly:!0,notify:!0}}}created(){}ready(){}attached(){}detached(){}createdCallback(){T(`CREATED ${this.is}`),this.__id=O.next(),this.created(),this.__initData()}readyCallback(){let t;this.__componentReady=!0,T(`READY ${this.is}`),this.hasAttribute("xin-id")||this.setAttribute("xin-id",this.__id),this.__initListeners(),this.__initTemplate(),this.__initProps(),this.__initPropValues(),this.__template&&(t=document.createDocumentFragment(),[].slice.call(this.childNodes).forEach(e=>{e!==this.__templateMarker&&t.appendChild(e)})),this.__templateRender(t),this.ready(),this.__componentAttaching&&this.attachedCallback()}attachedCallback(){this.__repository.put(this.__id,this),this.__componentAttaching=!0,this.__componentReady?(this.notify("__global"),this.notify("__repository"),this.notify("__app"),T(`ATTACHED ${this.is} ${this.__componentAttaching?"(delayed)":""}`),this.set("ref",this),this.attached(),this.__componentAttaching=!1):this.async(this.readyCallback)}detachedCallback(){this.__repository.remove(this.__id),this.detached(),this.set("ref",null)}connectedCallback(){return this.attachedCallback()}disconnectedCallback(){return this.detachedCallback()}get __app(){if(!this.__app$)if(this.__appSignature)this.__app$=this;else{let t=this.parentElement;for(;t&&!t.__appSignature;)t=t.parentElement;this.__app$=t}return this.__app$}get __global(){return window}get __repository(){return e}__initData(){this.__componentContent=[],this.__componentDebouncers={},this.__componentNotifiers={},this.__componentReady=!1,this.__componentAttaching=!1,this.__componentInitialPropValues={},this.__componentNotifiedProps={}}__initProps(){let t=this.__getProps();for(let e in t){let n=t[e],i=o(e);if("computed"in n){let t=b.get(this,e),i=_.getFn(n.computed,[],!0);this.__templateAnnotate(i,t),this.__componentInitialPropValues[e]=(()=>i.invoke(this))}else if(this.hasAttribute(i)){let t=this.getAttribute(i),r=_.get(t);"s"===r.type?this.__componentInitialPropValues[e]=(()=>c(t,n.type)):("notify"in n&&"{"===r.mode&&(this.__componentNotifiedProps[e]=!0,this.__templateGetBinding(e).annotate(new C(this,e))),this.__componentInitialPropValues[e]=(()=>r.invoke(this.__templateModel)))}if("observer"in n){let t=_.getFn(n.observer,[e],!0);this.__templateAnnotate(t)}}}__getProps(){return this._props||(this._props=this.props),this._props}__initPropValues(){let t=this.__getProps();for(let e in t){let n,i=t[e];if(n=this.__componentInitialPropValues[e]?this.__componentInitialPropValues[e]():this[e],"value"in i&&M(e,n)&&(n=l(i.value)),i.required&&void 0===n)throw new Error(`${this.is}:${this.__id} missing required ${e}`);this[e]=n,void 0!==n&&this.notify(e,n)}}__isNotified(t){return t in this.__componentNotifiedProps}__initTemplate(){let t;1!==this.childElementCount||"TEMPLATE"!==this.firstElementChild.nodeName||this.firstElementChild.hasAttribute("is")?this.template&&((t=document.createElement("template")).innerHTML=this.template):(t=this.firstElementChild,this.removeChild(t)),this.__templateInitialize(t,this)}__initListeners(){this.listeners&&Object.keys(this.listeners).forEach(t=>{let e=function(t){t=t.trim();let[e,...n]=t.split(/\s+/),i=n.length?n.join(" "):null;return{key:t,eventName:e,selector:i}}(t),n=_.getFn(this.listeners[t],[],!0);e.selector?this.on(e.eventName,e.selector,t=>{n.invoke(this,{evt:t})}):this.on(e.eventName,t=>{n.invoke(this,{evt:t})})})}__addNotifier(t){this.__componentNotifiers[t]||(this.__componentNotifiers[t]=(t=>{let e=t.target;e.__templateModel===this&&(t.stopImmediatePropagation(),"__componentNotifyKey"in e&&"__componentNotifyAccessor"in e&&e.__templateModel.set(e.__componentNotifyKey,e[e.__componentNotifyAccessor]))}),this.on(t,this.__componentNotifiers[t]))}__removeNotifier(t){this.__componentNotifiers[t]&&(this.off(t,this.__componentNotifiers[t]),this.__componentNotifiers[t]=null)}fire(t,e,n){return Object(i.f)(this).fire(t,e,n)}async(t,e){return new k.a(this).start(t,e)}debounce(t,e,n,i){let r=this.__componentDebouncers[t];return r&&r.running?r.cancel():r=this.__componentDebouncers[t]=new k.b(this,i),r.start(e,n),r}nextFrame(t){return k.a.nextFrame(t.bind(this))}sprintf(...t){return Object(N.sprintf)(...t)}__templateAnnotate(t,e){if(!F.prototype.__templateAnnotate.call(this,t,e))return!1;if("{"===t.mode&&"p"===t.type&&e.node instanceof window.HTMLElement){const n=e.node,i=n.nodeName,r=i=>{n.__componentNotifyKey=t.name,n.__componentNotifyAccessor=e.name,this.__addNotifier(i)};if("INPUT"===i){const t=n.getAttribute("type");if("radio"===t||"checkbox"===t)throw new Error("Unimplemented yet");r("input")}else"TEXTAREA"===i?r("input"):"SELECT"===i&&r("change")}return!0}}let s=F.prototype;for(let t in s)s.hasOwnProperty(t)&&"$"!==t&&"__templateAnnotate"!==t&&(r.prototype[t]=s[t]);return S[t]=r,r}function M(t,e){return void 0===e||"title"===t&&!e}const $=L("HTMLElement");n.d(e,"e",function(){return r}),n.d(e,"d",function(){return L}),n.d(e,"a",function(){return $}),n.d(e,"c",function(){return F}),n.d(e,"b",function(){return d})},function(t,e,n){"use strict";const i=n(6)("xin::core");class r{constructor(t={},e=window){this.data=Object.assign({"customElements.version":"v1"},t),this.fallbackScope=e}rebootstrap(t={},e=this.fallbackScope){i("Repository rebootstrapping ..."),this.data=Object.assign(this.data,t),this.fallbackScope=e}get(t){if(!isNaN(t))return this.data[t];if(t in this.data)return this.data[t];let e=t.split("."),n=this.fallbackScope;return e.find(function(t){return!(n=n[t])}),n}put(t,e){if(void 0===e)return this.remove(t);this.data[t]=e}remove(t){delete this.data[t]}}function s(t,e){let n=window.xin;return n?n.rebootstrap(t,e):window.xin=n=new r(t,e),n}function o(t,e){let n=t?`@xinix/xin/${t}`:"@xinix/xin";console.warn(`DEPRECATED: ${n}, ${e}`)}function a(){let{xin:t}=window;return t?"get"in t==!1&&(o("","Do not use window.xin to set configuration. Please use bootstrap(config) instead."),t=s(t,window)):t=s(void 0,window),t}var l=n(2);const c=new l.a("event");let u,h=0,d=0,p={},f={};function m(t,e,n){return"_root"===e?n:t!==n?function(t){return u||(u=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:C.matchesSelector)}(t).call(t,e)?t:t.parentNode?(h++,m(t.parentNode,e,n)):void 0:void 0}function _(t,e,n,i){p[t.id]||(p[t.id]={}),p[t.id][e]||(p[t.id][e]={}),p[t.id][e][n]||(p[t.id][e][n]=[]),p[t.id][e][n].push(i)}function g(t,e,n,i){if(p[t.id])if(e)if(i||n)if(i){if(p[t.id][e][n])for(let r=0;r<p[t.id][e][n].length;r++)if(p[t.id][e][n][r]===i){p[t.id][e][n].splice(r,1);break}}else delete p[t.id][e][n];else p[t.id][e]={};else for(let e in p[t.id])p[t.id].hasOwnProperty(e)&&(p[t.id][e]={})}const y={},w=t=>[t],v={transitionend(t){let e=document.createElement("fakeelement"),n={OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"};for(let t in n)if(void 0!==e.style[t])return[n[t]]}};function b(t){let e;if(t in y)e=y[t];else{e=(v[t]||w)(t),y[t]=e}return e}function x(t,e,n,i){if(!this.element)return;if(t instanceof Array||(t=[t]),n||"function"!=typeof e||(n=e,e="_root"),e instanceof window.Element){let t;e.hasAttribute("bind-event-id")?t=e.getAttribute("bind-event-id"):(t=c.next(),e.setAttribute("bind-event-id",t)),e=`[bind-event-id="${t}"]`}let r,s=this.id;function o(t){return function(e){!function(t,e,n){if(!p[t][n])return;let i,r,s=e.target||e.srcElement,o={},a=0,l=0;for(i in h=0,p[t][n])p[t][n].hasOwnProperty(i)&&(r=m(s,i,f[t].element))&&C.matchesEvent(n,f[t].element,r,"_root"===i,e)&&(h++,p[t][n][i].match=r,o[h]=p[t][n][i]);for(e.stopPropagation=function(){e.cancelBubble=!0},a=0;a<=h;a++)if(o[a])for(l=0;l<o[a].length;l++){if(!1===o[a][l].call(o[a].match,e))return void C.cancel(e);if(e.cancelBubble)return}}(s,e,t)}}for(r=0;r<t.length;r++)b(t[r]).forEach(t=>{i?g(this,t,e,n):(p[s]&&p[s][t]||C.addEvent(this,t,o(t)),_(this,t,e,n))});return this}function C(t,e){this.element=t,this.id=e}function E(t){for(let e in f)if(f[e].element===t)return f[e];return f[++d]=new C(t,d),f[d]}C.prototype.on=function(t,e,n){return x.call(this,t,e,n)},C.prototype.off=function(t,e,n){return x.call(this,t,e,n,!0)},C.prototype.once=function(t,e,n){n||"function"!=typeof e||(n=e,e="_root");const i=(...r)=>(this.off(t,e,i),n(...r));return this.on(t,e,i)},C.prototype.fire=function(t,e,n){let i;n=n||{},e=e||{};let r=void 0===n.bubbles||n.bubbles,s=Boolean(n.cancelable);switch(t){case"click":i=new window.Event(t,{bubbles:r,cancelable:s,detail:e});break;default:i=new window.CustomEvent(t,{bubbles:Boolean(r),cancelable:s,detail:e})}return this.element.dispatchEvent(i),i},C.matchesSelector=function(){},C.cancel=function(t){t.preventDefault(),t.stopPropagation()},C.addEvent=function(t,e,n){if("touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e)return void t.element.addEventListener(e,n,{passive:!0});let i="blur"===e||"focus"===e;t.element.addEventListener(e,n,i)},C.aliases=b,C.matchesEvent=function(){return!0};var A=n(8);n(22);class F{static add(t,e){k[t]=e}static get(t){return k[t]||k.none}constructor(t){t=t||{},this.element=t.element,this.duration=t.duration||0,this.transition=t.transition||"none",this.method=t.method||"",this.adapter=t.adapter||F.get(this.transition),this.running=!1,this.direction=0}async play(t){this.running=!0,this.direction=t,await this.adapter.play(this)}async stop(){await this.adapter.stop(this),this.running=!1,this.direction=0}}const k={none:{async play(){},async stop(){}},slide:{play:t=>new Promise(e=>{E(t.element).once("transitionend",()=>{t.element.classList.remove("trans-slide__animate"),e()}),t.element.classList.add(`trans-slide__${t.method}-${t.direction>0?"left":"right"}`),A.a.nextFrame(()=>{t.element.classList.add("trans-slide__animate"),A.a.nextFrame(()=>t.element.classList.add(`trans-slide__${t.method}`))})}),stop:t=>new Promise(e=>{A.a.nextFrame(()=>{t.element.classList.remove(`trans-slide__${t.method}-${t.direction>0?"left":"right"}`),t.element.classList.remove(`trans-slide__${t.method}`),e()})})},fade:{play:t=>new Promise(e=>{E(t.element).once("transitionend",()=>{e()}),t.element.classList.add(`trans-fade__${t.method}`),A.a.nextFrame(()=>{t.element.classList.add(`trans-fade__${t.method}-animate`)})}),stop:t=>new Promise(e=>{t.element.classList.remove(`trans-fade__${t.method}`),A.a.nextFrame(()=>{t.element.classList.remove(`trans-fade__${t.method}-animate`),e()})})}};n.d(e,"d",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"c",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"b",function(){return l.a}),n.d(e,"f",function(){return E}),n.d(e,"a",function(){return F})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{constructor(t=""){this.key=t,this.value=0}next(){return this.value++}}},function(t,e,n){var i={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),o=null,a=0,l=[],c=n(20);function u(t,e){for(var n=0;n<t.length;n++){var r=t[n],s=i[r.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](r.parts[o]);for(;o<r.parts.length;o++)s.parts.push(_(r.parts[o],e))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(_(r.parts[o],e));i[r.id]={id:r.id,refs:1,parts:a}}}}function h(t,e){for(var n=[],i={},r=0;r<t.length;r++){var s=t[r],o=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(a):n.push(i[o]={id:o,parts:[a]})}return n}function d(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function f(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),m(e,t.attrs),d(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function _(t,e){var n,i,r,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var l=a++;n=o||(o=f(e)),i=y.bind(null,n,l,!1),r=y.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),d(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||s)&&(i=c(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,n,e),r=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){p(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return u(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var o=n[s];(a=i[o.id]).refs--,r.push(a)}t&&u(h(t,e),e);for(s=0;s<r.length;s++){var a;if(0===(a=r[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function y(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(s).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(0),s=n(9);n(19);const o=n(6)("xin:components:app");class a extends r.a{get props(){return{title:{type:String,observer:"_titleChanged"},manual:{type:Boolean},mode:{type:String,value:"hash"},rootUri:{type:String,value:"/"},hash:{type:String,value:"#!"},delay:{type:Number,value:1}}}get hashRegexp(){return this._hashRegexp&&this._hash===this.hash||(this._hashRegexp=new RegExp(`${this.hash}(.*)$`),this._hash=this.hash),this._hashRegexp}notFound(t){console.warn(`Route not found: ${t}`)}_titleChanged(t){t&&(document.title=t)}created(){this.__appSignature=!0,this.location=window.location,this.history=window.history,this.handlers=[],this.middlewares=[],this.__started=!1,this.__starting=!1,this.classList.add("xin-app")}attached(){this.manual||this.async(()=>{this.start()},this.delay)}route(t,e){this.handlers.push(new s.a(t,e))}async start(){if(this.__started||this.__starting)return;this.__middlewareChainRun=function(t){for(let e of t)if("function"!=typeof e)throw new TypeError("Middleware must be composed of functions!");return(e,n)=>{let i=-1;return function r(s){if(s<=i)throw new Error("next() called multiple times");i=s;let o=t[s];s===t.length&&(o=n);if(!o)return;return o(e,()=>r(s+1))}(0)}}(this.middlewares),this.__listenNavigation(),o(`Starting ${this.is}:${this.__id} ...`),this.__starting=!0;let t=await this.__execute();this.__starting=!1,t&&(o(`Started ${this.is}:${this.__id}`),this.__started=!0,this.fire("started"))}__listenNavigation(){let t=()=>{this.__execute()};"history"===this.mode?(Object(i.f)(window).on("popstate",t),Object(i.f)(document).on("click",e=>{if(!e.defaultPrevented&&"A"===e.target.nodeName&&""===e.target.target){e.preventDefault();let n={url:e.target.getAttribute("href")};this.history.pushState(n,e.target.innerHTML,e.target.href),t()}})):Object(i.f)(window).on("hashchange",t)}get started(){return this.__started||!1}getFragmentExecutors(t){return this.handlers.reduce((e,n)=>{let i=n.getExecutorFor(t);return i&&e.push(i),e},[])}async __execute(){let t=this.getFragment(),e={app:this,uri:t};return!1!==await this.__middlewareChainRun(e,()=>{let n=this.getFragmentExecutors(e.uri);if(0===n.length)return this.notFound(t),void this.fire("route-not-found",t);n.forEach(t=>{t.handler.callback(t.args,e)})})&&(this.fire("navigated",e),!0)}navigate(t,e){if(t=t||"/",e=e||{},"history"===this.mode){let n=this.rootUri+t.toString().replace(/\/$/,"").replace(/^\//,"");this.location.href.replace(this.location.origin,"")!==n&&(this.history[e.replace?"replaceState":"pushState"]({},document.title,n),this.__execute())}else e.replace?this.location.replace(this.hash+t):this.location.hash=this.hash+t;return this}use(t){this.middlewares.push(t)}getFragment(){try{let t;if("history"===this.mode)t=(t=decodeURI(this.location.pathname+this.location.search)).replace(/\?(.*)$/,""),t="/"===this.rootUri?t:t.replace(this.rootUri,"");else{let e=this.location.href.match(this.hashRegexp);t=e?e[1]:""}return"/"+t.toString().replace(/\/$/,"").replace(/^\//,"")}catch(t){return console.error("Fragment is not match any pattern, fallback to /"),"/"}}}Object(r.e)("xin-app",a);class l extends r.a{static create(t,e={}){const n=`\n      <xin-fixture>\n        <template>\n          ${t}\n        </template>\n      </xin-fixture>\n    `,i=document.createElement("div");i.innerHTML=n;const r=i.querySelector("xin-fixture");return r.__initialData=e,document.body.appendChild(r),r}attached(){super.attached(),this.connected=!0;for(let t in this.__initialData)this.set(t,this.__initialData[t]);this.async(()=>{this.fire("connected")})}detached(){super.detached(),this.connected=!1,this.fire("disconnected")}dispose(){this.parentElement.removeChild(this),this.connected=!1}async waitConnected(t){await new Promise(t=>{this.connected?t():this.once("connected",t)}),await this.wait(t)}wait(t=0){return new Promise(e=>{this.async(e,t)})}async waitDisconnected(t){await new Promise(t=>{this.connected?this.once("disconnected",t):t()}),await this.wait(t)}}Object(r.e)("xin-fixture",l);class c extends r.a{attached(){super.attached(),this.__app.use(this.callback())}}n(17);class u extends r.a{ready(){super.ready();for(let t=this.firstElementChild,e=0;t;t=t.nextElementSibling,e++)"set"in t?t.set("index",e):t.setAttribute("index",e)}setFocus(t){if(t){let e=t.index,n=this.focused$?this.focused$.index:-1;n<e?this.__transitionForward(this.focused$,t):n>e&&this.__transitionBackward(this.focused$,t)}else this.focused$&&this.focused$.setFocus(!1);this.focused$=t}__transitionBackward(t,e){Promise.all([e.inFx.play(-1),t.outFx.play(-1)]).then(()=>{t.setVisible(!1),e.setVisible(!0),t.setFocus(!1),e.setFocus(!0),this.$focused=e,e.inFx.stop(),t.outFx.stop()})}__transitionForward(t,e){if(t)Promise.all([e.inFx.play(1),t.outFx.play(1)]).then(()=>{t.setVisible(!1),e.setVisible(!0),t.setFocus(!1),e.setFocus(!0),this.$focused=e,e.inFx.stop(),t.outFx.stop()});else{let t=new i.a({element:e,transition:"none"});t.play("in",1).then(()=>{e.setVisible(!0),e.setFocus(!0),this.$focused=e,t.stop()})}}}Object(r.e)("xin-pager",u);class h extends r.c{constructor(t,e,n,i){super(),this.__templateInitialize(t,e.__templateModel,e.__templateMarker),this.is="$repeat-row",this.__id=this.__templateId,this.__repeat=e,this.__repeatAs=e.as,this.__repeatIndexAs=e.indexAs,this.__templateChildNodes.forEach(t=>{t.nodeType===window.Node.ELEMENT_NODE&&(t.__repeatModel=this)}),this.update(n,i),this.__templateRender()}get __app(){return this.__templateHost.__app}update(t,e){this[this.__repeatAs]=t,this[this.__repeatIndexAs]=e,this.notify(this.__repeatAs,t),this.notify(this.__repeatIndexAs,e)}set(t,e){return(t=this.__templateGetPathAsArray(t))[0]===this.__repeatAs||t[0]===this.__repeatIndexAs?super.set(t,e):this.__templateHost.set(t,e)}get(t){return(t=this.__templateGetPathAsArray(t))[0]===this.__repeatAs||t[0]===this.__repeatIndexAs?super.get(t):this.__templateHost.get(t)}notify(t,e){return(t=this.__templateGetPathAsArray(t))[0]===this.__repeatAs||t[0]===this.__repeatIndexAs?super.notify(t,e):this.__templateHost.notify(t,e)}}n(15);const d=()=>!0;class p extends r.a{get props(){return Object.assign({},super.props,{items:{type:Array,observer:"_itemsChanged(items, filter)"},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},filter:{type:Function,observer:"_itemsChanged(items, filter)"},to:{type:String,value:""}})}created(){super.created(),this.rows=[]}__initTemplate(){if(this.__templateFor=this.firstElementChild,!this.__templateFor)throw new Error('Invalid xin-for definition, must be <xin-for items="[[items]]"><template>...</template></xin-for>');this.removeChild(this.__templateFor);let t=this,e=this.getAttribute("to");if(e){let n=document.querySelector(e);if(!n)throw new Error(`xin-for render to unknown element ${e}`);t=document.createComment("marker-for"),n.appendChild(t)}r.c.prototype.__templateInitialize.call(this,null,this,t)}_itemsChanged(t,e){this.debounce("_itemsChanged",()=>{let e=0;if(t&&t.length){let n=this.filter||d;t.filter(n).forEach((t,n)=>{this.rows[n]?this.rows[n].update(t,n):this.rows.push(new h(this.__templateFor,this,t,n)),e++})}this.rows.splice(e).forEach(t=>{t.__templateUninitialize()})})}itemForElement(t){for(;t&&!t.__repeatModel;)t=t.parentElement;return t.__repeatModel.get(this.as)}indexForElement(t){for(;t&&!t.__repeatModel;)t=t.parentElement;return t.__repeatModel.get(this.indexAs)}modelForElement(t){for(;t&&!t.__repeatModel;)t=t.parentElement;return t.__repeatModel}}Object(r.e)("xin-for",p);const f=()=>!0;class m extends(Object(r.d)("HTMLTemplateElement")){get props(){return Object.assign({},super.props,{items:{type:Array,observer:"_itemsChanged(items, filter)"},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},filter:{type:Function,observer:"_itemsChanged(items, filter)"}})}created(){super.created(),Object(i.e)("components/repeat","Please use xin-for instead"),this.rows=[]}__initTemplate(){r.c.prototype.__templateInitialize.call(this,null,this)}_itemsChanged(t,e){this.debounce("_itemsChanged",()=>{let e=0;if(t&&t.length){let n=this.filter||f;t.filter(n).forEach((t,n)=>{this.rows[n]?this.rows[n].update(t,n):this.rows.push(new h(this,this,t,n)),e++})}this.rows.splice(e).forEach(t=>{t.__templateUninitialize()})})}itemForElement(t){for(;t&&!t.__repeatModel;)t=t.parentElement;return t.__repeatModel.get(this.as)}indexForElement(t){for(;t&&!t.__repeatModel;)t=t.parentElement;return t.__repeatModel.get(this.indexAs)}modelForElement(t){for(;t&&!t.__repeatModel;)t=t.parentElement;return t.__repeatModel}}Object(r.e)("xin-repeat",m,{extends:"template"});var _=n(7);n.d(e,"App",function(){return a}),n.d(e,"Fixture",function(){return l}),n.d(e,"Middleware",function(){return c}),n.d(e,"Pager",function(){return u}),n.d(e,"For",function(){return p}),n.d(e,"Repeat",function(){return m}),n.d(e,"View",function(){return _.View})},function(t,e,n){(function(i){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(24)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(s=++r)}),t.splice(s,0,i)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())}).call(this,n(25))},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(1);n(13);class s extends i.a{get props(){const t=this.__repository.get("view.transitionIn")||this.__repository.get("view.transition")||"slide",e=this.__repository.get("view.transitionOut")||this.__repository.get("view.transition")||"fade";return Object.assign({},super.props,{uri:{type:String,required:!0},transitionIn:{type:String,value:t},transitionOut:{type:String,value:e},index:{type:Number,value:0}})}focusing(){}focused(){}blurred(){}created(){super.created(),this.classList.add("xin-view")}ready(){super.ready(),this.inFx=new r.a({element:this,transition:this.transitionIn,method:"in"}),this.outFx=new r.a({element:this,transition:this.transitionOut,method:"out"})}attached(){super.attached(),this.classList.remove("xin-view--focus"),this.classList.remove("xin-view--visible"),this.__app?(this.__app.route(this.uri,t=>{this.focus(t)}),this.fire("routed")):console.error("Cannot route view to undefined app")}async focus(t={}){this.set("parameters",t),await this.focusing(t),this.fire("focusing",t),this.async(()=>{"setFocus"in this.parentElement?this.parentElement.setFocus(this):(this.setVisible(!0),this.setFocus(!0))})}setVisible(t){if(t)return this.classList.add("xin-view--visible"),void this.fire("show",{view:this});this.classList.remove("xin-view--visible"),[].forEach.call(this.querySelectorAll(".xin-view.xin-view--visible"),e=>e.setVisible(t)),this.fire("hide")}async setFocus(t){if(t)return this.classList.add("xin-view--focus"),await this.focused(),void this.fire("focus");this.classList.remove("xin-view--focus"),[].forEach.call(this.querySelectorAll(".xin-view.xin-view--focus"),e=>{"setFocus"in e.parentElement?e.parentElement.setFocus(null):e.setFocus(t)}),await this.blurred(),this.fire("blur")}}Object(i.e)("xin-view",s),n.d(e,"View",function(){return s})},function(t,e,n){"use strict";const i=new(n(2).a)("async"),r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.msCancelAnimationFrame;class o{static nextFrame(t){return r(t)}static sleep(t){return new Promise(e=>setTimeout(e,t))}static run(t,e){return(new o).start(t,e)}constructor(t){this.id=i.next(),this.context=t||null,this.handle=null,this.frameHandle=null,this.cleared=!0}start(t,e){if("function"!=typeof t)throw new Error("Async should specify function");if(!this.cleared)throw new Error("Async already run");this.cleared=!1,e=e||0;let n=this,i=this.context,s=function(){n.frameHandle=r(()=>{n.__clear(),t.call(i)})};e?this.handle=setTimeout(s,e):s()}__clear(){this.cleared=!0,s(~~this.frameHandle),clearTimeout(~~this.handle),this.handle=this.frameHandle=null}cancel(){this.__clear()}}class a{constructor(t,e){this.context=t,this.immediate=Boolean(e),this.async=null,this.running=!1}start(t,e){if(this.immediate)throw new Error("Unimplemented yet!");this.running=!0,this.async=new o(this.context),this.async.start(()=>{t.call(this.context),this.running=!1,this.async=null},e)}cancel(){this.running=!1,this.async.cancel(),this.async=null}}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{static routeRegExp(t){let e=t.split("[");if(e.length>2)throw new Error("Invalid use of optional params");let n=[],i=e[0].replace(/{([^}]+)}/g,function(t,e){return n.push(e),"([^/]+)"}).replace(/\//g,"\\/"),r="";return e[1]&&(r="(?:"+e[1].slice(0,-1).replace(/{([^}]+)}/g,function(t,e){let[i,r="[^/]+"]=e.split(":");return n.push(i),`(${r})`}).replace(/\//g,"\\/")+")?"),[new RegExp("^"+i+r+"$"),n]}static isStatic(t){return!t.match(/[[{]/)}constructor(t,e){if(this.route=t,this.callback=e,i.isStatic(t))this.type="s",this.pattern=null,this.args=[];else{let e=i.routeRegExp(t);this.type="v",this.pattern=e[0],this.args=e[1]}}getExecutorFor(t){if("s"===this.type){if(t===this.route)return{handler:this,args:{}}}else if("v"===this.type){let e=t.match(this.pattern);if(e)return{handler:this,args:this.args.reduce((t,n,i)=>(t[n]=e[i+1],t),{})}}}}},function(t,e,n){var i;!function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function s(t){return function(t,e){var n,i,o,a,l,c,u,h,d,p=1,f=t.length,m="";for(i=0;i<f;i++)if("string"==typeof t[i])m+=t[i];else if(Array.isArray(t[i])){if((a=t[i])[2])for(n=e[p],o=0;o<a[2].length;o++){if(!n.hasOwnProperty(a[2][o]))throw new Error(s('[sprintf] property "%s" does not exist',a[2][o]));n=n[a[2][o]]}else n=a[1]?e[a[1]]:e[p++];if(r.not_type.test(a[8])&&r.not_primitive.test(a[8])&&n instanceof Function&&(n=n()),r.numeric_arg.test(a[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(s("[sprintf] expecting number but found %T",n));switch(r.number.test(a[8])&&(h=n>=0),a[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a[6]?parseInt(a[6]):0);break;case"e":n=a[7]?parseFloat(n).toExponential(a[7]):parseFloat(n).toExponential();break;case"f":n=a[7]?parseFloat(n).toFixed(a[7]):parseFloat(n);break;case"g":n=a[7]?String(Number(n.toPrecision(a[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a[7]?n.substring(0,a[7]):n;break;case"t":n=String(!!n),n=a[7]?n.substring(0,a[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a[7]?n.substring(0,a[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a[7]?n.substring(0,a[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}r.json.test(a[8])?m+=n:(!r.number.test(a[8])||h&&!a[3]?d="":(d=h?"+":"-",n=n.toString().replace(r.sign,"")),c=a[4]?"0"===a[4]?"0":a[4].charAt(1):" ",u=a[6]-(d+n).length,l=a[6]&&u>0?c.repeat(u):"",m+=a[5]?d+n+l:"0"===c?d+l+n:l+d+n)}return m}(function(t){if(a[t])return a[t];var e,n=t,i=[],s=0;for(;n;){if(null!==(e=r.text.exec(n)))i.push(e[0]);else if(null!==(e=r.modulo.exec(n)))i.push("%");else{if(null===(e=r.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){s|=1;var o=[],l=e[2],c=[];if(null===(c=r.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=r.key_access.exec(l)))o.push(c[1]);else{if(null===(c=r.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}e[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push(e)}n=n.substring(e[0].length)}return a[t]=i}(t),arguments)}function o(t,e){return s.apply(null,[t].concat(e||[]))}var a=Object.create(null);e.sprintf=s,e.vsprintf=o,"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=o,void 0===(i=function(){return{sprintf:s,vsprintf:o}}.call(e,n,e,t))||(t.exports=i))}()},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(0),s=n(5),o=n(9);class a{constructor(t,e,n){this.name=e.nodeName.toLowerCase(),this.uri=e.getAttribute("uri"),this.element=e,this.loader=n,this.route=new o.a(this.uri),this.isStaticRoute=o.a.isStatic(this.uri),this.bag=t}get loaded(){if(this._loaded)return!0;return this.element.classList.contains("xin-view")?(this._loaded=!0,!0):void 0}load(){return new Promise((t,e)=>this.loaded?t():this.loader?(Object(i.f)(this.element).once("routed",()=>{this._loaded=!0,this.element.querySelector(".xin-view")?setTimeout(()=>t(),300):t()}),void this.loader.load(this)):e(new Error(`Cannot lazy load view: ${this.name}`)))}}class l extends s.Middleware{get props(){return Object.assign({},super.props,{loaders:{type:Array,value:()=>this.__repository.get("view.loaders")?this.__repository.get("view.loaders"):this.__repository.get("viewLoaders")?(Object(i.e)("",'Do not use configuration "viewLoaders". Please use "view.loaders" instead.'),this.__repository.get("viewLoaders")):[]}})}created(){super.created(),this.views=[]}attached(){super.attached(),this.loaders.push({test:/^xin-/,load(t){if("xin-view"===t.name)return Promise.resolve().then(n.bind(null,7))}})}get(t){let e=this.views.find(e=>e.uri===t);return e||this.views.find(e=>!(!e.isStaticRoute||e.uri!==t)||e.route.getExecutorFor(t))}put(t){this.views.push(t)}ensure(t,e){0===this.views.length&&[].forEach.call(t.querySelectorAll("[lazy-view]"),t=>{let e=this.loaders.find(e=>t.nodeName.toLowerCase().match(e.test)),n=new a(this,t,e);this.put(n)});let n=this.get(e);if(!n)throw new Error("Unknown view for "+e);return n.load()}callback(t){const e=this;return async function(t,n){await e.ensure(t.app,t.uri),await n()}}}Object(r.e)("xin-lazy-view-middleware",l);class c extends s.Middleware{get props(){return Object.assign({},super.props,{defaultTitle:{type:String,value:"Unknown"}})}callback(t){const e=this;return async function(t,n){t.app.once("focus",t=>{document.title=t.target.title||e.defaultTitle}),await n()}}}Object(r.e)("xin-title-middleware",c),n.d(e,"LazyView",function(){return l}),n.d(e,"Title",function(){return c})},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".xin-view {\n  box-sizing: border-box;\n  display: none;\n}\n\n.xin-view.xin-view--visible {\n  display: block;\n}\n",""])},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"xin-for {\n  display: none;\n  visibility: hidden;\n}\n",""])},function(t,e,n){var i=n(14);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"xin-pager {\n  box-sizing: border-box;\n  display: block;\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n}\n\nxin-pager .xin-view {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n",""])},function(t,e,n){var i=n(16);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".xin-app {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n",""])},function(t,e,n){var i=n(18);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:i+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".trans-slide__in-left {\n  -webkit-transform: translateX(100%);\n  transform: translateX(100%);\n  display: block!important;\n}\n\n.trans-slide__in-right {\n  -webkit-transform: translateX(-100%);\n  transform: translateX(-100%);\n  display: block!important;\n}\n\n.trans-slide__out-left,\n.trans-slide__out-right {\n  -webkit-transform: translateX(0);\n  transform: translateX(0);\n  display: block!important;\n}\n\n.trans-slide__animate {\n  will-change: transform, -webkit-transform;\n  -webkit-transition: -webkit-transform ease-out 200ms;\n  transition: transform ease-out 200ms;\n  z-index: 999;\n}\n\n.trans-slide__out {\n  -webkit-transform: translateX(100%);\n  transform: translateX(100%);\n}\n\n.trans-slide__out.trans-slide__out-left {\n  -webkit-transform: translateX(-100%);\n  transform: translateX(-100%);\n}\n\n.trans-slide__in {\n  -webkit-transform: translateX(0);\n  transform: translateX(0);\n}\n\n.trans-fade__in,\n.trans-fade__out {\n  display: block!important;\n  opacity: 0;\n  will-change: opacity;\n  -webkit-transition: opacity ease-in 200ms;\n  transition: opacity ease-in 200ms;\n}\n\n.trans-fade__out {\n  opacity: 1;\n}\n\n.trans-fade__in-animate {\n  opacity: 1;\n}\n\n.trans-fade__out-animate {\n  opacity: 0;\n}\n",""])},function(t,e,n){var i=n(21);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(t.exports=i.locals)},function(t,e){var n=1e3,i=60*n,r=60*i,s=24*r,o=365.25*s;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var l=typeof t;if("string"===l&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===l&&!1===isNaN(t))return e.long?function(t){return a(t,s,"day")||a(t,r,"hour")||a(t,i,"minute")||a(t,n,"second")||t+" ms"}(t):function(t){if(t>=s)return Math.round(t/s)+"d";if(t>=r)return Math.round(t/r)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,r=+new Date,s=r-(n||r);t.diff=s,t.prev=n,t.curr=r,n=r;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;l++;var r=e.formatters[i];if("function"==typeof r){var s=o[l];n=r.call(t,s),o.splice(l,1),l--}return n}),e.formatArgs.call(t,o),(i.log||e.log||console.log.bind(console)).apply(t,o)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=r,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function r(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var s=e.instances[n];s.enabled=e.enabled(s.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(23),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=a(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var i=n(1);n.d(e,"deprecated",function(){return i.e}),n.d(e,"IdGenerator",function(){return i.b}),n.d(e,"event",function(){return i.f}),n.d(e,"bootstrap",function(){return i.d}),n.d(e,"getInstance",function(){return i.g}),n.d(e,"Repository",function(){return i.c}),n.d(e,"Fx",function(){return i.a});var r=n(0);n.d(e,"define",function(){return r.e}),n.d(e,"base",function(){return r.d}),n.d(e,"Component",function(){return r.a}),n.d(e,"T",function(){return r.c}),n.d(e,"Filter",function(){return r.b})},function(t,e,n){const i=n(26),r=i.getInstance(),s=Object.getPrototypeOf(r);Object.setPrototypeOf(s,i),r.component=n(5),r.middleware=n(11)}]);